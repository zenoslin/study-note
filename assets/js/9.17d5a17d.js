(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{198:function(t,e,r){"use strict";r.r(e);var o=r(0),a=Object(o.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"_2-分钟获得-https-证书"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-分钟获得-https-证书","aria-hidden":"true"}},[t._v("#")]),t._v(" 2 分钟获得 HTTPS 证书")]),t._v(" "),r("p",[t._v("我们将利用"),r("a",{attrs:{href:"https://certbot.eff.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Certbot"),r("OutboundLink")],1),t._v("\b 来 \b 获取 Let's Encrypt 的免费 HTTPS 证书。")]),t._v(" "),r("p",[t._v("这里是 \b 使用的是"),r("code",[t._v("CentOS 6")]),t._v(" + "),r("code",[t._v("ngibx")]),t._v("，更多的系统的安装方法可以到"),r("a",{attrs:{href:"https://certbot.eff.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Certbot 官网"),r("OutboundLink")],1),t._v("查询，这里就不一一 \b 赘述。")]),t._v(" "),r("h2",{attrs:{id:"安装-certbot"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装-certbot","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装 Certbot")]),t._v(" "),r("p",[t._v("因为"),r("code",[t._v("CentOS 6")]),t._v("没有"),r("code",[t._v("Certbot")]),t._v("的打包版本，所以我们需要用"),r("code",[t._v("certbot-auto")]),t._v("脚本来获取。")]),t._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("wget https://dl.eff.org/certbot-auto\nchmod a + x certbot-auto\n")])])]),r("h2",{attrs:{id:"运行-certbot"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#运行-certbot","aria-hidden":"true"}},[t._v("#")]),t._v(" 运行 Certbot")]),t._v(" "),r("p",[t._v("现在我们就可以直接运行"),r("code",[t._v("Certbot")]),t._v("来获取我们需要的"),r("code",[t._v("HTTPS")]),t._v("证书了。")]),t._v(" "),r("p",[t._v("这里要注意一点"),r("code",[t._v("Certbot")]),t._v("默认的"),r("code",[t._v("nginx.conf")]),t._v("的路径是"),r("code",[t._v("/etc/nginx/nginx.conf")]),t._v("。如果你的 conf 文件是在该路径下则直接运行"),r("code",[t._v("Certbot")]),t._v("即可。")]),t._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("sudo ./certbot-auto --nginx\n")])])]),r("p",[t._v("如果你的"),r("code",[t._v("conf")]),t._v("文件在其他路径下，则需要使用"),r("code",[t._v("nginx-server-root")]),t._v("参数指定"),r("code",[t._v("conf")]),t._v("文件的路径。")]),t._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("sudo ./certbot-auto --nginx  --nginx-server-root=/usr/local/nginx/conf\n")])])]),r("p",[t._v("接下来又到了我们最喜欢的无脑 yes 下一步环节了。（你要认真看问题也是可以滴）")]),t._v(" "),r("p",[t._v("选择了激活的站点和重定向之后，它就会帮我修改"),r("code",[t._v("nginx.conf")]),t._v("文件并 \b 开心的恭喜我成功啦。")]),t._v(" "),r("p",[t._v("HTTPS 证书相关的文件存放在了"),r("code",[t._v("/etc/letsencrypt/")]),t._v("里。")]),t._v(" "),r("p",[t._v("这时我们打开我们的站点，发现它已经变成了金色传说的"),r("code",[t._v("https")]),t._v("了。")])])},[],!1,null,null,null);e.default=a.exports}}]);